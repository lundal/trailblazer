<div ng-controller="SheetController">
    <h1> General </h1>
    <div class="block">
        <div id="basics" class="piece">
            <header> Basic Information </header>
        </div> <!-- end basics -->
    </div> <!-- end block -->
    <div class="block">
        <div id="abilities" class="piece" ng-controller="AbilitiesController">
            <header> Abilities </header>
            <table>
                <tr>
                    <th class="expand"> Ability </th>
                    <th> Score </th>
                    <th> Mod. </th>
                    <th> Temp<br>Score </th>
                    <th> Temp<br>Mod. </th>
                </tr>
                <tr ng-repeat="ability in character.abilities">
                    <td>
                        <input type="text" class="input textbox expand bottom-border-only" ng-model="ability.name" readonly>
                    </td>
                    <td>
                        <input type="text" class="input numberbox editable" value="{{ abilityScoreBase(ability) }}" readonly
                               tooltip="{{ abilityScoreBaseTooltip(ability) }}" tooltip-popup-delay="300"
                               ng-focus="abilityScoreBaseEdit(ability)">
                    </td>
                    <td>
                        <input type="number" class="input numberbox highlight" value="{{ abilityModifierBase(ability) }}" readonly>
                    </td>
                    <td>
                        <input type="text" class="input numberbox editable" value="{{ abilityScoreTemp(ability) }}" readonly
                               tooltip="{{ abilityScoreTempTooltip(ability) }}" tooltip-popup-delay="300"
                               ng-focus="abilityScoreTempEdit(ability)">
                    </td>
                    <td>
                        <input type="number" class="input numberbox highlight" value="{{ abilityModifierTemp(ability) }}" readonly>
                    </td>
                </tr>
            </table>
        </div> <!-- end abilities -->
        <div id="movement" class="piece">
            <header> Movement </header>
        </div> <!-- end ac -->
        <div id="todo1" class="piece">
            <header> Todo 1 </header>
        </div> <!-- end todo1 -->
    </div> <!-- end block -->
    <h1> Defense </h1>
    <div class="block">
        <div id="saves" class="piece" ng-controller="SavesController">
            <header> Saves </header>
            <table>
                <tr>
                    <th class="expand"> Save </th>
                    <th> Total </th>
                    <th> Base </th>
                    <th> Misc </th>
                </tr>
                <tr ng-repeat="save in character.saves">
                    <td>
                        <input type="text" class="input textbox expand bottom-border-only" ng-model="save.name" readonly>
                    </td>
                    <td>
                        <input type="text" class="input numberbox highlight" value="{{ saveTotal(save) }}" readonly
                               tooltip="{{ saveTotalTooltip(save) }}" tooltip-popup-delay="300">
                    </td>
                    <td>
                        <input type="text" class="input numberbox editable" value="{{ saveBase(save) }}" readonly
                               tooltip="{{ saveBaseTooltip(save) }}" tooltip-popup-delay="300"
                               ng-focus="saveBaseEdit(save)">
                    </td>
                    <td>
                        <input type="text" class="input numberbox editable" value="{{ saveMisc(save) }}" readonly
                               tooltip="{{ saveMiscTooltip(save) }}" tooltip-popup-delay="300"
                               ng-focus="saveMiscEdit(save)">
                    </td>
                </tr>
            </table>
        </div> <!-- end saves -->
        <div id="ac" class="piece" ng-controller="ArmorClassController">
            <header> Armor Class </header>
            <table style="float: right; margin: 9px">
                <tr>
                    <th> Natural </th>
                    <th> Deflect </th>
                </tr>
                <tr>
                    <td>
                        <input type="text" class="input numberbox" value="{{ armorclassNatural(character.armorclass) }}" readonly
                               tooltip="{{ armorclassNaturalTooltip(character.armorclass) }}" tooltip-popup-delay="300"
                               ng-focus="armorclassNaturalEdit(character.armorclass)">
                    </td>
                    <td>
                        <input type="text" class="input numberbox" value="{{ armorclassDeflection(character.armorclass) }}" readonly
                               tooltip="{{ armorclassDeflectionTooltip(character.armorclass) }}" tooltip-popup-delay="300"
                               ng-focus="armorclassDeflectionEdit(character.armorclass)">
                    </td>
                </tr>
                <tr>
                    <th> Dodge </th>
                    <th> Misc </th>
                </tr>
                <tr>
                    <td>
                        <input type="text" class="input numberbox" value="{{ armorclassDodge(character.armorclass) }}" readonly
                               tooltip="{{ armorclassDodgeTooltip(character.armorclass) }}" tooltip-popup-delay="300"
                               ng-focus="armorclassDodgeEdit(character.armorclass)">
                    </td>
                    <td>
                        <input type="text" class="input numberbox" value="{{ armorclassMisc(character.armorclass) }}" readonly
                               tooltip="{{ armorclassMiscTooltip(character.armorclass) }}" tooltip-popup-delay="300"
                               ng-focus="armorclassMiscEdit(character.armorclass)">
                    </td>
                </tr>
            </table>
            <table>
                <tr>
                    <th class="expand"> Situation </th>
                    <th> AC </th>
                </tr>
                <tr>
                    <td>
                        <input type="text" class="input textbox expand bottom-border-only" value="Normal" readonly>
                    </td>
                    <td>
                        <input type="text" class="input numberbox highlight" value="{{ armorclassNormal(character.armorclass) }}" readonly
                               tooltip="{{ armorclassNormalTooltip(character.armorclass) }}" tooltip-popup-delay="300">
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" class="input textbox expand bottom-border-only" value="Flat-Footed" readonly>
                    </td>
                    <td>
                        <input type="text" class="input numberbox highlight" value="{{ armorclassFlatFooted(character.armorclass) }}" readonly
                               tooltip="{{ armorclassFlatFootedTooltip(character.armorclass) }}" tooltip-popup-delay="300">
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" class="input textbox expand bottom-border-only" value="Touch Attack" readonly>
                    </td>
                    <td>
                        <input type="text" class="input numberbox highlight" value="{{ armorclassTouchAttack(character.armorclass) }}" readonly
                               tooltip="{{ armorclassTouchAttackTooltip(character.armorclass) }}" tooltip-popup-delay="300">
                    </td>
                </tr>
            </table>
        </div> <!-- end ac -->
        <div id="todo2" class="piece">
            <header> Todo 2 </header>
        </div> <!-- end todo2 -->
    </div> <!-- end block -->
    <h1> Offense </h1>
    <div class="block">
        <div id="attacks" class="piece">
            <header> Attacks </header>
        </div> <!-- end attacks -->
    </div> <!-- end block -->
    <h1> Training </h1>
    <div class="block">
        <div id="skills" class="piece" ng-controller="SkillsController">
            <header> Skills </header>
            <table>
                <tr>
                    <th tooltip="Class Skill" tooltip-popup-delay="300" tooltip-append-to-body="true"> CS </th>
                    <th class="expand"> Skill </th>
                    <th tooltip="Untrained" tooltip-popup-delay="300" tooltip-append-to-body="true"> UT </th>
                    <th> Ability </th>
                    <th> Total </th>
                    <th> Ranks </th>
                    <th> Misc </th>
                    <th tooltip="Delete" tooltip-popup-delay="300" tooltip-append-to-body="true"> Del </th>
                </tr>
                <tr ng-repeat="skill in character.skills">
                    <td>
                        <input type="checkbox" ng-model="skill.clas">
                    </td>
                    <td>
                        <input type="text" class="input textbox expand bottom-border-only" ng-model="skill.name" ng-blur="skillSort()">
                    </td>
                    <td>
                        <input type="checkbox" ng-model="skill.untrained">
                    </td>
                    <td>
                        <select class="input selectbox" ng-model="skill.ability">
                            <option value="Str">Str</option>
                            <option value="Dex">Dex</option>
                            <option value="Con">Con</option>
                            <option value="Int">Int</option>
                            <option value="Wis">Wis</option>
                            <option value="Cha">Cha</option>
                        </select>
                    </td>
                    <td>
                        <input type="text" class="input numberbox highlight" value="{{ skillTotal(skill) }}" readonly
                               tooltip="{{ skillTotalTooltip(skill) }}" tooltip-popup-delay="300" tooltip-append-to-body="true">
                    </td>
                    <td>
                        <input type="number" class="input numberbox" ng-model="skill.ranks" required
                               min="0" max="999" pattern="-?[0-9]+">
                    </td>
                    <td>
                        <input type="text" class="input numberbox editable" value="{{ skillMisc(skill) }}" readonly
                               tooltip="{{ skillMiscTooltip(skill) }}" tooltip-popup-delay="300" tooltip-append-to-body="true"
                               ng-focus="skillMiscEdit(skill)">
                    </td>
                    <td>
                        <button type="button" class="btn btn-danger button-delete" ng-click="skillRemove($index)">
                            <i class="glyphicon glyphicon-remove"></i>
                        </button>
                    </td>
                </tr>
                <tr>
                    <td colspan="42">
                        <button type="button" class="btn btn-success button" ng-click="skillAdd()">
                            <i class="glyphicon glyphicon-plus"></i> Add skill
                        </button>
                    </td>
                </tr>
            </table>
        </div> <!-- end skills -->
        <div class="subblock">
            <div id="feats" class="piece">
                <header> Feats </header>
            </div> <!-- end feats -->
            <div id="features" class="piece">
                <header> Race/Class Features </header>
            </div> <!-- end features -->
        </div> <!-- end subblock -->
    </div> <!-- end block -->
</div>
